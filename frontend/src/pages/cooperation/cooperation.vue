<template>
	<view class="cooperation-container">
		<!-- è½®æ’­å›¾åŒºåŸŸ -->
		<view class="carousel-section">
			<swiper class="carousel" indicator-dots="true" autoplay="true" interval="3000" circular="true">
				<swiper-item v-for="(item, index) in carouselImages" :key="index">
					<view class="carousel-item">
						<image :src="item.src" class="carousel-image" mode="aspectFill" />
					</view>
				</swiper-item>
			</swiper>
		</view>

		<!-- çŸ®åŒ–å“ç§æ¨å¹¿æ ‡é¢˜ -->
		<view class="promotion-title">
			<text class="title-text">çŸ®åŒ–å“ç§æ¨å¹¿</text>
		</view>

		<!-- å“ç§å±•ç¤ºåŒºåŸŸ -->
		<view class="variety-showcase">
			<view class="showcase-item" v-for="item in varietyItems" :key="item.id">
				<image :src="item.image" class="showcase-image" mode="aspectFill" />
				<view class="showcase-info">
					<text class="showcase-title">{{ item.title }}</text>
					<text class="showcase-desc">{{ item.description }}</text>
				</view>
			</view>
		</view>

		<!-- è½®æ’­å›¾æ ‡é¢˜ -->
		<view class="section-title">
			<text class="title-text">çŸ®åŒ–å“ç§è¯•éªŒç”°ä¸°æ”¶</text>
		</view>

		<!-- ä¸°æ”¶å±•ç¤ºè½®æ’­ -->
		<view class="harvest-carousel">
			<swiper class="harvest-swiper" indicator-dots="true" autoplay="true" interval="4000" circular="true">
				<swiper-item v-for="(item, index) in harvestImages" :key="index">
					<view class="harvest-item">
						<image :src="item.src" class="harvest-image" mode="aspectFill" />
					</view>
				</swiper-item>
			</swiper>
		</view>

		<!-- åŠŸèƒ½åŒºåŸŸ -->
		<view class="features-section">
			<view class="feature-card question-card" @click="showQuestionModal">
				<view class="card-icon">â“</view>
				<text class="card-title">å†œæˆ·æé—®åŒº</text>
				<button class="card-btn" @click.stop="askQuestion">æˆ‘è¦æé—®</button>
			</view>

			<view class="feature-card cooperation-card" @click="showCooperationModal">
				<view class="card-icon">ğŸ¤</view>
				<text class="card-title">ä¼ä¸šåˆä½œæ„å‘å¢™</text>
				<button class="card-btn" @click.stop="publishDemand">å‘å¸ƒéœ€æ±‚</button>
			</view>
		</view>
	</view>
</template>

<script setup lang="ts">
import { ref } from 'vue'

// è½®æ’­å›¾æ•°æ®
const carouselImages = ref([
	{ src: '/static/logo.png' },
	{ src: '/static/logo.png' },
	{ src: '/static/logo.png' }
])

// å“ç§å±•ç¤ºæ•°æ®
const varietyItems = ref([
	{
		id: 1,
		image: '/static/logo.png',
		title: 'çŸ®åŒ–å“ç§è¯•éªŒç”°æ ‡æ”¶',
		description: 'è¦†ç›–é¢ç§¯ï¼š4.6äº©'
	},
	{
		id: 2,
		image: '/static/logo.png',
		title: 'ä¼˜è´¨é’æ¢…å“ç§å±•ç¤º',
		description: 'ç§æ¤å‘¨æœŸï¼š3å¹´'
	},
	{
		id: 3,
		image: '/static/logo.png',
		title: 'æ™ºèƒ½åŒ–ç®¡ç†ç¤ºèŒƒ',
		description: 'äº§é‡æå‡ï¼š25%'
	}
])

// ä¸°æ”¶å±•ç¤ºæ•°æ®
const harvestImages = ref([
	{ src: '/static/logo.png' },
	{ src: '/static/logo.png' },
	{ src: '/static/logo.png' }
])

// é¢„è§ˆå›¾ç‰‡
const previewImage = (src: string) => {
	uni.previewImage({
		current: src,
		urls: carouselImages.value.map(item => item.src)
	})
}

// æ˜¾ç¤ºé—®é¢˜å¼¹çª—
const showQuestionModal = () => {
	uni.showToast({
		title: 'æ‰“å¼€å†œæˆ·æé—®åŒº',
		icon: 'success'
	})
}

// æé—®
const askQuestion = () => {
	uni.showToast({
		title: 'è·³è½¬åˆ°æé—®é¡µé¢',
		icon: 'success'
	})
}

// æ˜¾ç¤ºåˆä½œå¼¹çª—
const showCooperationModal = () => {
	uni.showToast({
		title: 'æ‰“å¼€ä¼ä¸šåˆä½œæ„å‘å¢™',
		icon: 'success'
	})
}

// å‘å¸ƒéœ€æ±‚
const publishDemand = () => {
	uni.showToast({
		title: 'è·³è½¬åˆ°å‘å¸ƒéœ€æ±‚é¡µé¢',
		icon: 'success'
	})
}
</script>

<style scoped>
.cooperation-container {
	min-height: 750px;
	background: linear-gradient(135deg, #f6ffed 0%, #d9f7be 100%);
	padding-bottom: 20px;
}

.header-section {
	padding: 40px 20px 20px;
	text-align: center;
}

.main-title {
	font-size: 24px;
	font-weight: bold;
	color: #333;
}

.carousel-section {
	margin: 0px 20px 20px;
	border-radius: 12px;
	overflow: hidden;
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.carousel {
	height: 200px;
}

.carousel-item {
	height: 100%;
}

.carousel-image {
	width: 100%;
	height: 100%;
}

.promotion-title {
	text-align: center;
	margin: 30px 20px 20px;
}

.title-text {
	font-size: 20px;
	font-weight: bold;
	color: #333;
}

.variety-showcase {
	display: flex;
	justify-content: space-around;
	margin: 20px;
}

.showcase-item {
	background: white;
	border-radius: 12px;
	padding: 15px;
	width: 30%;
	text-align: center;
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.showcase-image {
	width: 100%;
	height: 80px;
	border-radius: 8px;
	margin-bottom: 10px;
}

.showcase-title {
	font-size: 12px;
	font-weight: bold;
	color: #333;
	margin-bottom: 5px;
}

.showcase-desc {
	font-size: 10px;
	color: #666;
	text-align: center;
	display: block;
	margin-top: 5px;
}

.section-title {
	text-align: center;
	margin: 30px 20px 20px;
}

.harvest-carousel {
	margin: 20px;
	border-radius: 12px;
	overflow: hidden;
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.harvest-swiper {
	height: 200px;
}

.harvest-item {
	height: 100%;
}

.harvest-image {
	width: 100%;
	height: 100%;
}

.features-section {
	display: flex;
	justify-content: space-around;
	margin: 30px 20px;
}

.feature-card {
	background: white;
	border-radius: 12px;
	padding: 20px;
	width: 45%;
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
	text-align: center;
}

.card-icon {
	font-size: 30px;
	margin-bottom: 10px;
}

.card-title {
	font-size: 16px;
	font-weight: bold;
	color: #333;
	margin-bottom: 15px;
}

.card-btn {
	background: #52c41a;
	color: white;
	border: none;
	border-radius: 6px;
	padding: 8px 16px;
	font-size: 12px;
}

.bottom-info {
	text-align: center;
	margin: 40px 20px 20px;
}

.info-text {
	font-size: 14px;
	color: #666;
}
</style>
